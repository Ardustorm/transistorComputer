* C:\Users\john\Downloads\Bill(Gates)\CMOS\Test_RCA4.asc
XX1 A[0] A[1] A[2] A[3] VDD Osum[0] Osum[1] Osum[2] Osum[3] B[0] B[1] B[2] B[3] OCo rca4

* block symbol definitions
.subckt rca4 A[0] A[1] A[2] A[3] VDD SUM[0] SUM[1] SUM[2] SUM[3] B[0] B[1] B[2] B[3] Co
XX1 A[0] VDD Sum[0] B[0] N003 half_adder
XX2 A[1] VDD Sum[1] B[1] N002 N003 full_adder
XX3 A[2] VDD Sum[2] B[2] N001 N002 full_adder
XX4 A[3] VDD Sum[3] B[3] Co N001 full_adder
.ends rca4

.subckt half_adder A VDD SUM B C
XX2 B A N001 VDD nand_gate
XX3 N001 VDD C not_gate
XX1 A B SUM VDD xor_gate
.inc CD4007.mod
.ends half_adder

.subckt full_adder A VDD SUM B Co C
XX4 A B N001 VDD xor_gate
XX5 N001 C SUM VDD xor_gate
XX1 A B N002 VDD nand_gate
XX2 A C N005 VDD nand_gate
XX3 B C N006 VDD nand_gate
XX6 N002 N005 N003 VDD nand_gate
XX7 N004 N006 Co VDD nand_gate
XX8 N003 VDD N004 not_gate
.inc CD4007.mod
.ends full_adder

.subckt nand_gate A B Out VDD
M1 Out A N001 N001 RIT4007N7
M2 Out A VDD VDD RIT4007P7
M3 Out B VDD VDD RIT4007P7
M4 N001 B 0 0 RIT4007N7
.inc CD4007.mod
.ends nand_gate

.subckt not_gate A VDD !A
M1 !A A 0 0 RIT4007N7
M2 !A A VDD VDD RIT4007P7
.inc CD4007.mod
.ends not_gate

.subckt xor_gate A B Out VDD
M1 Out A N003 N003 RIT4007N7
M2 Out N002 P001 P001 RIT4007P7
M3 Out N001 P002 P002 RIT4007P7
M4 N003 N001 0 0 RIT4007N7
M5 N003 B 0 0 RIT4007N7
M6 Out N002 N003 N003 RIT4007N7
XX2 A VDD N001 not_gate
M7 P002 B VDD VDD RIT4007P7
M8 P001 A VDD VDD RIT4007P7
XX3 B VDD N002 not_gate
.inc CD4007.mod
.ends xor_gate

.model NMOS NMOS
.model PMOS PMOS
.lib C:\Users\john\Documents\LTspiceXVII\lib\cmp\standard.mos
.inc Test_inputA-B[4].txt
.tran 256m
.backanno
.end
